#pragma config(Hubs,  S1, HTMotor,  HTMotor,  none,     none)
#pragma config(Sensor, S1,     ,               sensorI2CMuxController)
#pragma config(Sensor, S2,     touch,          sensorTouch)
#pragma config(Sensor, S3,     light,          sensorLightActive)
#pragma config(Sensor, S4,     sonar,          sensorSONAR)
#pragma config(Motor,  mtr_S1_C1_1,     motorD,        tmotorTetrix, openLoop, encoder)
#pragma config(Motor,  mtr_S1_C1_2,     motorE,        tmotorTetrix, openLoop, reversed, encoder)
#pragma config(Motor,  mtr_S1_C2_1,      ,             tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C2_2,      ,             tmotorTetrix, openLoop)
#include "JoystickDriver.c"
task main()
{
	short L
	short R
	while(true)
	{
		getJoystickSettings(joystick);
		L = -joystick.joy1_y1 + joystick.joy1_x1;
		R = -joystick.joy1_y1 - joystick.joy1_x1;
		max=abs(L);
		if(max<abs(R))
			{
				max=abs(R)
			}
		if(max > 20)
			{
				motor[motorE] = floor(L/max);
				motor[motorD] = floor(R/max);
			}
	}
}	
